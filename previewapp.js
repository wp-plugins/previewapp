!function(){function e(e,t,o){e.attachEvent?(e["e"+t+o]=o,e[t+o]=function(){e["e"+t+o](window.event)},e.attachEvent("on"+t,e[t+o])):e.addEventListener(t,o,!1)}var t=t||{};t.rpc=t.rpc||{},t.rpc.Server=function(){var t=function(){this.listeners={},this.source=null,this.origin=null};return t.prototype.on=function(e,t){this.listeners[e]=t},t.prototype.postMessage=function(e){null===this.source?console.log("PREVIEW: source is not defined"):this.source.postMessage(e,this.origin)},t.prototype.postTransactionResponse=function(e,t,o){this.postMessage({action:t,transaction_id:e,url:window.location.href,result:o})},t.prototype.listen=function(t){var o=this;e(t,"message",function(e){if(e.origin===e.data.urlsrc){o.source=e.source,o.origin=e.origin;var t=e.data.action;if(!o.listeners.hasOwnProperty(t))return void console.error("Missing action `"+t+"`.");var n=o.listeners[t].apply(o,e.data.parameters);o.postTransactionResponse(e.data.transaction_id,t,n)}})},t}();var o=new t.rpc.Server;e(window,"load",function(){function e(){r=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),i=Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth),s=document.createElement("div"),s.style.background="transparent",s.style.height=parseInt(r)+"px",s.style.width=parseInt(i)+"px",s.style.zIndex=99999,s.style.top=0,s.style.left=0,s.style.position="fixed",s.style.display="block",s.style.cursor="crosshair",d=document.createElement("style"),d.type="text/css",d.innerHTML="* { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }",document.body.appendChild(d),document.body.appendChild(s),s.onclick=function(e){l=void 0==e.x?e.clientX-s.offsetLeft:e.x,m=void 0==e.y?e.clientY-s.offsetTop:e.y,o.postMessage({action:"inspector-prepare-issue-creation",result:{x:l,y:m,scroll_x:u,scroll_y:a}})},window.onmousemove=function(e){o.postMessage({action:"inspector-mouse-move",result:{x:void 0==e.x?e.clientX-s.offsetLeft:e.x,y:void 0==e.y?e.clientY-s.offsetTop:e.y}})},window.onscroll=function(){var e,t,n=c();t=n.y,e=null==f||t>f?"down":"top",u=n.x,a=n.y,o.postMessage({action:"preview-scroll-event",result:{x:u,y:a,direction:e,last_scroll:f}}),f=t}}function t(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var n=o.offsetWidth;return e.parentNode.removeChild(e),t-n}function n(){s.style.display="none";var e,o,n=document.querySelector("head base");return(n===!1||null===n)&&(n=document.createElement("BASE"),n.setAttribute("href",window.location.href),e=document.querySelector("head"),e.insertBefore(n,e.firstChild)),o=document.body.clientWidth,document.body.clientHeight>screen.height&&(o+=t(),l+=Math.floor(t()/2)),{width:i,height:r,x:l+u,y:m+a,url:window.location.href,window_width:screen.width,window_height:screen.height,crop_y:document.body.scrollTop,crop_x:document.body.scrollLeft,scroll_y:document.body.scrollTop,scroll_x:document.body.scrollLeft,scroll_width:t(),html:encodeURIComponent(document.documentElement.outerHTML)}}function c(){var e=0,t=0;return"number"==typeof window.pageYOffset?(e=window.pageXOffset,t=window.pageYOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(e=document.body.scrollLeft,t=document.body.scrollTop):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e=document.documentElement.scrollLeft,t=document.documentElement.scrollTop),{x:e,y:t}}var i,r,s,d,l=0,u=0,m=0,a=0,f=null;o.on("inspector-scroll-to",function(e){window.scrollTo(e,e),o.postMessage({action:"inspector-scroll-to",result:{}})}),o.on("inspector-mode-bug-on",function(){e()}),o.on("inspector-mode-bug-off",function(){s&&s.parentNode&&s.parentNode.removeChild(s),d&&d.parentNode&&d.parentNode.removeChild(d),window.onmousemove=function(){},window.onscroll=function(){}}),o.on("inspector-iframe-info",function(){var e=c();return r=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),i=Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth),{scroll_x:e.x,scroll_y:e.y,width:i,height:r,title:document.title,url:window.location.href}}),o.on("inspector-prepare-screenshot",function(){return n()}),o.on("inspector-end-screenshot",function(){s.style.display="block"}),o.on("inspector-get-html",function(){return encodeURIComponent(document.documentElement.outerHTML)}),o.listen(window)}),e(window,"unload",function(){o.postMessage({action:"inspector-change-page",result:{url:window.location.href}})})}();